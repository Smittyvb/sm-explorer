<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SM Explorer</title>
    <style>
      body {
        font-family: sans-serif;
        margin: 0;
        background-color: #e6fee6;
        text-align: center;
      }
      h1 {
        font-size: 3.5vw;
        font-weight: bold;
        margin: 0;
        max-height: 1.9em;
      }
      nav {
        height: 5vw;
        min-height: 1.35em;
        background-color: #79f179;
        max-height: 3em;
      }
      #usage {
        margin-top: 0.66em;
        margin-bottom: 0.66em;
        color: #007700;
        text-align: center;
      }
      #query {
        width: 66.666vw;
        height: 3rem;
        font-family: monospace;
        font-size: 1.5em;
        border: 1px solid #09ff09;
        margin-bottom: 1em;
      }
      .raw-data {
        font-family: monospace;
        color: black;
        background-color: #f7f7f7;
        box-shadow: 2px 2px 2px 0px #444;
        border: 1px solid #777;
        margin-right: 3px;
      }
      #loader {
        width: 100px;
        height: 100px;
        background-color: transparent;
        border-radius: 50%;
        animation-name: loader-rotate;
        animation-iteration-count: infinite;
        animation-duration: 2.5s;
        animation-timing-function: cubic-bezier(0.4, 0.07, 0.64, 0.92);
        margin-top: 1em;
        border: 1em solid green;
        border-top-style: double;
        margin: 0 auto;
      }
      .transaction {
        background-color: #7eff88;
        border-radius: 10px;
        width: 80vw;
        height: 2.5em;
        max-width: 75vw;
        border: 0.2em solid black;
        margin: 0 auto 1em auto;
        text-align: left;
        padding: 1em;
      }
      .error-tx {
        text-decoration: line-through;
        background-color: #ff5151;
      }
      .username {
        font-weight: bold;
      }
      .block-number {
        float: right;
      }
      @keyframes loader-rotate { 
        from { 
          transform: rotate(0deg);
        }
        50% {
        }
        to { 
          transform: rotate(1800deg);
        }
      }
      @media (max-width: 385px) {
        h1 {
          font-size: 1.5em;
        }
        nav {
          height: 2.14285714286em;
        }
        #query {
          width: 80vw;
        }
      }
      @media (max-width: 300px) {
        h1 {
          font-size: 1em;
        }
        nav {
          height: 1.42857142857em;
        }
        #query {
          width: 94vw;
        }
      }
      @media (min-width: 1100px) {
        h1 {
          font-size: 2.25em;
        }
      }
    </style>
    <script>
      var CARDS = [{"id":1,"name":"Goblin Shaman","color":"Red","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,1,1,1,1,1,1,1,1],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[4,4,3,4,3,3,3,4,5,6],"speed":[2,3,2,2,2,3,4,4,4,4],"abilities":[["Weaken"],[],[],[],["Slow"],[],[],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":2,"name":"Giant Roc","color":"Red","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[5,5,5,5,5,5,5,5,5,5],"attack":[1,1,1,2,2,2,3,3,3,4],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[6,7,7,7,7,7,7,8,9,8],"speed":[4,4,5,5,6,6,6,6,6,6],"abilities":[["Flying"],[],[],[],[],["Trample"],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":3,"name":"Kobold Miner","color":"Red","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[2,2,2,2,2,2,2,2,2,2],"attack":[1,1,2,2,2,2,2,3,3,3],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[2,3,3,4,4,4,5,5,5,6],"speed":[2,2,2,2,3,4,4,4,5,5],"abilities":[["Sneak"],[],[],[],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":4,"name":"Fire Beetle","color":"Red","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[1,1,2,2,2,2,2,3,3,3],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,1,1,1,1,1,2],"health":[4,5,4,5,4,5,5,4,5,6],"speed":[2,2,2,2,2,2,3,3,3,3],"abilities":[["Snipe"],[],[],[],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":5,"name":"Malric Inferno","color":"Red","type":"Summoner","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":3,"attack":1,"ranged":0,"magic":0,"armor":0,"health":0,"speed":0},"is_starter":true,"editions":"0,1"},{"id":6,"name":"Serpentine Soldier","color":"Red","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[5,5,5,5,5,5,5,5],"attack":[1,1,2,2,2,2,3,3],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[1,1,1,1,1,1,1,1],"health":[4,4,4,5,5,6,6,7],"speed":[4,5,5,5,5,6,6,6],"abilities":[["Shield"],[],[],["Dodge"],[],[],["Thorns"],[]]},"is_starter":false,"editions":"0,1"},{"id":7,"name":"Pit Ogre","color":"Red","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[6,6,6,6,6,6,6,6],"attack":[2,3,3,3,4,4,4,4],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[7,7,8,8,8,9,9,10],"speed":[1,1,2,2,2,3,3,4],"abilities":[["Stun"],[],[],["Enrage"],[],[],["Void"],[]]},"is_starter":true,"editions":"0,1"},{"id":8,"name":"Cerberus","color":"Red","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[4,4,4,4,4,4,4,4],"attack":[2,2,3,3,3,3,4,4],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[5,6,6,7,7,8,8,9],"speed":[3,3,3,4,4,5,5,5],"abilities":[["Heal"],[],[],[],["Retaliate"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":9,"name":"Fire Demon","color":"Red","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[4,4,4,4,4,4],"attack":[0,0,0,0,0,0],"ranged":[2,2,2,3,3,4],"magic":[0,0,0,0,0,0],"armor":[0,0,0,0,0,0],"health":[5,6,6,5,6,6],"speed":[3,3,3,3,4,4],"abilities":[[],[],["Blast"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":10,"name":"Serpent of the Flame","color":"Red","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[6,6,6,6,6,6],"attack":[1,1,1,2,2,3],"ranged":[0,0,0,0,0,0],"magic":[0,0,0,0,0,0],"armor":[0,1,1,2,2,2],"health":[9,9,9,9,10,10],"speed":[5,5,6,6,6,6],"abilities":[["Retaliate"],[],["Poison"],[],["Piercing"],[]]},"is_starter":false,"editions":"0,1"},{"id":11,"name":"Elemental Phoenix","color":"Red","type":"Monster","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":[7,7,7,7],"attack":[0,0,0,0],"ranged":[0,0,0,0],"magic":[2,3,3,4],"armor":[0,0,0,0],"health":[8,8,8,8],"speed":[5,5,5,5],"abilities":[["Flying"],["Blast"],["Magic Reflect"],["Dodge"]]},"is_starter":false,"editions":"0,1"},{"id":12,"name":"Pirate Captain","color":"Blue","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[1,2,2,2,2,2,2,3,3,3],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[3,3,3,4,4,3,3,2,2,3],"speed":[2,2,3,3,4,4,5,5,6,6],"abilities":[["Snipe"],[],[],[],[],["Inspire"],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":13,"name":"Spineback Turtle","color":"Blue","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[4,4,4,4,4,4,4,4,4,4],"attack":[1,1,1,1,2,2,2,2,3,3],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[3,3,3,3,3,4,4,5,5,5],"health":[6,7,7,7,6,6,7,7,6,7],"speed":[1,1,1,1,1,1,1,2,2,2],"abilities":[[],[],[],["Thorns"],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":14,"name":"Crustacean King","color":"Blue","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[0,0,1,1,1,1,1,1,2,2],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[1,1,1,1,1,1,2,2,2,2],"health":[3,4,3,3,4,3,3,4,3,4],"speed":[1,1,1,1,1,1,1,1,1,1],"abilities":[["Tank Heal"],[],[],[],[],["Protect"],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":15,"name":"Sabre Shark","color":"Blue","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[1,2,2,2,3,3,3,3,4,4],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[2,2,3,3,3,4,4,5,5,5],"speed":[3,3,3,4,4,4,5,5,5,6],"abilities":[["Sneak"],[],[],[],[],[],[],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":16,"name":"Alric Stormbringer","color":"Blue","type":"Summoner","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":3,"attack":0,"ranged":0,"magic":1,"armor":0,"health":0,"speed":0},"is_starter":true,"editions":"0,1"},{"id":17,"name":"Medusa","color":"Blue","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[4,4,4,4,4,4,4,4],"attack":[0,0,0,0,0,0,0,0],"ranged":[0,0,0,0,0,0,0,0],"magic":[1,1,1,1,2,2,2,3],"armor":[0,0,0,0,0,0,0,0],"health":[3,4,4,5,5,5,6,6],"speed":[2,2,2,2,2,3,3,3],"abilities":[[],[],["Stun"],[],[],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":18,"name":"Water Elemental","color":"Blue","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[5,5,5,5,5,5,5,5],"attack":[0,0,0,0,0,0,0,0],"ranged":[2,2,3,3,3,3,4,4],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[4,5,5,6,6,7,6,7],"speed":[4,5,5,5,5,5,5,5],"abilities":[["Heal"],[],[],[],["Dodge"],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":19,"name":"Frozen Soldier","color":"Blue","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[6,6,6,6,6,6,6,6],"attack":[2,2,3,3,3,4,4,4],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[5,5,5,5,6,6,7,7],"health":[3,4,4,5,5,5,5,6],"speed":[2,2,2,3,3,3,4,4],"abilities":[["Shield"],[],[],[],["Magic Reflect"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":20,"name":"Mischievous Mermaid","color":"Blue","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[5,5,5,5,5,5],"attack":[0,0,0,0,0,0],"ranged":[0,0,0,0,0,0],"magic":[2,2,2,3,3,4],"armor":[0,0,0,0,0,0],"health":[3,4,4,4,5,5],"speed":[4,4,4,4,4,4],"abilities":[[],[],["Dodge"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":21,"name":"Naga Warrior","color":"Blue","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[5,5,5,5,5,5],"attack":[2,3,3,4,4,5],"ranged":[0,0,0,0,0,0],"magic":[0,0,0,0,0,0],"armor":[0,0,0,0,0,0],"health":[6,6,7,7,8,9],"speed":[3,3,4,4,4,4],"abilities":[["Retaliate"],[],[],["Enrage"],[],[]]},"is_starter":false,"editions":"0,1"},{"id":22,"name":"Frost Giant","color":"Blue","type":"Monster","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":[7,7,7,7],"attack":[4,5,5,5],"ranged":[0,0,0,0],"magic":[0,0,0,0],"armor":[0,0,0,0],"health":[9,9,10,10],"speed":[1,1,1,1],"abilities":[["Shield"],["Trample"],["Slow"],["Stun"]]},"is_starter":false,"editions":"0,1"},{"id":23,"name":"Flesh Golem","color":"Green","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[6,6,6,6,6,6,6,6,6,6],"attack":[2,2,2,3,3,3,3,3,4,4],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[9,10,10,9,10,11,10,11,10,11],"speed":[3,3,3,3,3,3,3,3,3,3],"abilities":[[],[],["Heal"],[],[],[],["Void"],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":24,"name":"Goblin Sorcerer","color":"Green","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[1,1,1,2,2,2,2,2,2,3],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[2,3,3,2,2,2,2,3,3,3],"speed":[2,2,3,2,3,4,5,5,6,5],"abilities":[["Sneak"],[],[],[],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":25,"name":"Rexxie","color":"Green","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[8,8,8,8,8,8,8,8,8,8],"attack":[4,5,5,5,5,6,6,6,6,7],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[8,8,9,9,10,9,10,10,11,11],"speed":[3,3,3,3,3,3,3,4,4,4],"abilities":[[],[],[],["Trample"],[],[],[],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":26,"name":"Minotaur Warrior","color":"Green","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[4,4,4,4,4,4,4,4,4,4],"attack":[2,2,2,2,3,3,3,3,4,4],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[1,1,1,1,1,1,1,1,1,1],"health":[3,4,5,5,5,5,6,6,6,7],"speed":[3,3,3,3,3,4,4,5,4,4],"abilities":[[],[],[],["Piercing"],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":27,"name":"Lyanna Natura","color":"Green","type":"Summoner","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":3,"attack":0,"ranged":0,"magic":0,"armor":0,"health":1,"speed":0},"is_starter":true,"editions":"0,1"},{"id":28,"name":"Earth Elemental","color":"Green","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0],"ranged":[1,1,2,2,2,3,3,3],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[6,6,6,6,7,6,7,8],"speed":[1,2,2,2,2,2,2,2],"abilities":[[],[],[],["Heal"],[],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":29,"name":"Stone Golem","color":"Green","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[5,5,5,5,5,5,5,5],"attack":[1,1,2,2,2,2,3,3],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[2,2,3,3,3,3,3,3],"health":[6,6,6,7,6,7,7,8],"speed":[1,2,2,2,2,2,2,2],"abilities":[["Shield"],[],[],[],["Stun"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":30,"name":"Stonesplitter Orc","color":"Green","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[6,6,6,6,6,6,6,6],"attack":[3,3,4,4,4,5,5,5],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[1,1,1,2,2,2,2,3],"health":[4,5,5,5,5,5,6,7],"speed":[3,3,3,4,4,4,4,4],"abilities":[["Retaliate"],[],[],[],["Enrage"],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":31,"name":"Magi of the Forest","color":"Green","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[4,4,4,4,4,4],"attack":[0,0,0,0,0,0],"ranged":[0,0,0,0,0,0],"magic":[2,2,3,3,4,4],"armor":[0,0,0,0,0,0],"health":[3,4,4,4,4,5],"speed":[2,2,2,3,3,4],"abilities":[[],[],[],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":32,"name":"Swamp Thing","color":"Green","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[2,2,2,2,2,2],"attack":[0,0,0,0,0,0],"ranged":[0,1,1,1,2,2],"magic":[0,0,0,0,0,0],"armor":[0,0,0,0,0,0],"health":[4,4,5,5,5,6],"speed":[1,1,1,1,1,1],"abilities":[["Weaken"],[],[],["Slow"],[],[]]},"is_starter":false,"editions":"0,1"},{"id":33,"name":"Spirit of the Forest","color":"Green","type":"Monster","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":[7,7,7,7],"attack":[0,0,0,0],"ranged":[2,2,2,3],"magic":[0,0,0,0],"armor":[0,0,0,0],"health":[8,8,8,8],"speed":[6,6,6,6],"abilities":[["Flying","Snipe"],["Tank Heal"],["Protect"],[]]},"is_starter":false,"editions":"0,1"},{"id":34,"name":"Divine Healer","color":"White","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,1,1,1,1,1,1,1,1],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[4,5,4,4,5,4,4,5,6,7],"speed":[1,1,1,2,2,1,2,2,2,2],"abilities":[["Tank Heal"],[],[],[],[],["Slow"],[],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":35,"name":"Feral Spirit","color":"White","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[1,1,1,2,2,2,3,3,3,4],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[2,2,3,3,3,4,4,4,5,5],"speed":[4,5,5,5,6,6,6,7,7,6],"abilities":[["Sneak"],[],[],[],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":36,"name":"Silvershield Knight","color":"White","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[6,6,6,6,6,6,6,6,6,6],"attack":[1,1,2,2,2,2,3,3,3,4],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[1,1,1,1,2,2,2,2,2,2],"health":[5,6,6,6,6,6,6,6,7,7],"speed":[4,4,4,4,4,5,5,5,5,5],"abilities":[["Inspire"],[],[],["Piercing"],[],[],[],["Trample"],[],[]]},"is_starter":true,"editions":"0,1"},{"id":37,"name":"Silvershield Warrior","color":"White","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[4,4,4,4,4,4,4,4,4,4],"attack":[2,2,2,3,3,3,3,4,4,4],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[1,1,1,2,2,3,3,3,3,3],"health":[4,5,6,5,6,6,7,6,7,8],"speed":[1,2,2,2,2,2,2,2,2,2],"abilities":[[],[],[],[],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":38,"name":"Tyrus Paladium","color":"White","type":"Summoner","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":3,"attack":0,"ranged":0,"magic":0,"armor":1,"health":0,"speed":0},"is_starter":true,"editions":"0,1"},{"id":39,"name":"Peacebringer","color":"White","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[4,4,4,4,4,4,4,4],"attack":[0,0,0,0,0,0,0,0],"ranged":[2,2,3,3,3,4,4,4],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[4,5,5,5,6,6,6,7],"speed":[3,3,3,4,4,4,5,5],"abilities":[[],[],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":40,"name":"Silvershield Paladin","color":"White","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[5,5,5,5,5,5,5,5],"attack":[1,1,1,2,2,2,3,3],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[1,2,3,3,4,4,4,4],"health":[5,6,7,7,7,8,8,9],"speed":[2,2,2,2,2,3,3,3],"abilities":[["Shield"],[],[],[],["Magic Reflect"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":41,"name":"Clay Golem","color":"White","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[6,6,6,6,6,6,6,6],"attack":[3,3,3,3,3,4,4,4],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[7,8,9,10,10,10,11,12],"speed":[1,1,1,1,1,1,1,1],"abilities":[["Void"],[],[],[],["Enrage"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":42,"name":"Defender of Truth","color":"White","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[4,4,4,4,4,4],"attack":[0,0,0,0,0,0],"ranged":[0,0,0,0,0,0],"magic":[1,2,2,2,3,3],"armor":[1,1,1,1,1,1],"health":[3,3,3,4,3,4],"speed":[3,3,4,4,4,4],"abilities":[[],[],["Protect"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":43,"name":"Air Elemental","color":"White","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[5,5,5,5,5,5],"attack":[0,0,0,0,0,0],"ranged":[2,3,3,3,4,4],"magic":[0,0,0,0,0,0],"armor":[0,0,0,0,0,0],"health":[5,5,5,6,6,7],"speed":[6,6,6,6,6,6],"abilities":[[],[],["Dodge"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":44,"name":"Angel of Light","color":"White","type":"Monster","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":[5,5,5,5],"attack":[0,0,0,0],"ranged":[0,0,0,0],"magic":[0,0,0,0],"armor":[0,0,0,0],"health":[8,8,8,8],"speed":[1,1,1,1],"abilities":[["Resurrect"],["Flying"],["Tank Heal"],["Inspire"]]},"is_starter":false,"editions":"0,1"},{"id":45,"name":"Animated Corpse","color":"Black","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[4,4,4,4,4,4,4,4,4,4],"attack":[2,2,2,2,2,3,3,3,4,4],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[6,7,7,7,7,6,7,8,8,9],"speed":[1,1,2,2,3,3,3,3,3,3],"abilities":[[],[],[],["Void"],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":46,"name":"Haunted Spider","color":"Black","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[2,2,2,2,2,2,2,2,3,3],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[2,3,3,3,4,4,5,5,4,5],"speed":[1,1,2,2,2,3,3,4,4,4],"abilities":[[],[],[],["Poison"],[],[],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":47,"name":"Skeleton Assassin","color":"Black","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[1,1,1,2,2,2,3,3,3,3],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[2,2,3,3,4,4,3,4,5,5],"speed":[4,5,5,5,5,5,5,5,5,6],"abilities":[["Sneak"],[],[],[],[],["Poison"],[],[],[],[]]},"is_starter":true,"editions":"0,1"},{"id":48,"name":"Spineback Wolf","color":"Black","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[5,5,5,5,5,5,5,5,5,5],"attack":[2,2,2,3,3,3,3,4,4,4],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[1,1,2,2,1,1,2,2,2,2],"health":[3,4,4,4,4,5,5,4,5,6],"speed":[6,6,6,6,6,6,6,6,6,6],"abilities":[[],[],[],[],["Thorns"],[],[],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":49,"name":"Zintar Mortalis","color":"Black","type":"Summoner","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":3,"attack":-1,"ranged":0,"magic":0,"armor":0,"health":0,"speed":0},"is_starter":true,"editions":"0,1"},{"id":50,"name":"Haunted Spirit","color":"Black","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[5,5,5,5,5,5,5,5],"attack":[2,2,3,3,3,4,4,4],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[7,8,8,8,9,9,9,10],"speed":[2,2,2,3,3,3,3,3],"abilities":[["Heal"],[],[],["Magic Reflect"],[],[],["Void"],[]]},"is_starter":true,"editions":"0,1"},{"id":51,"name":"Twisted Jester","color":"Black","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[4,4,4,4,4,4,4,4],"attack":[0,0,0,0,0,0,0,0],"ranged":[2,2,3,3,3,3,4,4],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[4,5,5,5,5,6,5,6],"speed":[3,3,3,4,4,4,4,4],"abilities":[["Snipe"],[],[],[],["Dodge"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":52,"name":"Undead Priest","color":"Black","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[2,2,2,2,2,2,2,2],"attack":[0,0,0,0,0,0,0,0],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,1,1,1,1,1,1],"armor":[0,0,0,0,0,0,0,0],"health":[3,4,3,4,3,4,5,6],"speed":[1,2,2,2,2,2,2,2],"abilities":[["Weaken"],[],[],[],["Slow"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":53,"name":"Dark Enchantress","color":"Black","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[6,6,6,6,6,6],"attack":[0,0,0,0,0,0],"ranged":[0,0,0,0,0,0],"magic":[2,2,3,3,3,4],"armor":[0,0,0,0,0,0],"health":[4,5,5,4,5,4],"speed":[3,4,4,4,5,5],"abilities":[["Flying"],[],[],["Stun"],[],[]]},"is_starter":false,"editions":"0,1"},{"id":54,"name":"Screaming Banshee","color":"Black","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[3,3,3,3,3,3],"attack":[0,0,0,0,0,0],"ranged":[0,0,0,0,0,0],"magic":[2,2,2,2,3,3],"armor":[0,0,0,0,0,0],"health":[1,2,2,2,2,3],"speed":[2,2,2,3,3,3],"abilities":[[],[],["Blast"],[],[],[]]},"is_starter":false,"editions":"0,1"},{"id":55,"name":"Lord of Darkness","color":"Black","type":"Monster","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":[7,7,7,7],"attack":[3,3,4,4],"ranged":[0,0,0,0],"magic":[0,0,0,0],"armor":[2,2,2,2],"health":[8,9,9,10],"speed":[2,2,3,3],"abilities":[["Enrage"],["Stun"],["Shield"],["Retaliate"]]},"is_starter":false,"editions":"0,1"},{"id":56,"name":"Selenia Sky","color":"Gold","type":"Summoner","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":3,"attack":0,"ranged":1,"magic":0,"armor":0,"health":0,"speed":0},"is_starter":false,"editions":"0,1"},{"id":57,"name":"Lightning Dragon","color":"Gold","type":"Monster","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":[7,7,7,7],"attack":[0,0,0,0],"ranged":[3,3,3,3],"magic":[0,0,0,0],"armor":[0,0,0,0],"health":[6,6,7,7],"speed":[6,6,6,6],"abilities":[["Flying"],["Stun"],["Piercing"],["Blast"]]},"is_starter":false,"editions":"0,1"},{"id":58,"name":"Chromatic Dragon","color":"Gold","type":"Monster","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":[7,7,7,7],"attack":[3,4,4,5],"ranged":[0,0,0,0],"magic":[0,0,0,0],"armor":[0,0,0,0],"health":[9,9,10,10],"speed":[3,3,3,3],"abilities":[["Flying"],["Enrage"],["Piercing"],["Thorns"]]},"is_starter":false,"editions":"0,1"},{"id":59,"name":"Gold Dragon","color":"Gold","type":"Monster","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":[7,7,7,7],"attack":[0,0,0,0],"ranged":[0,0,0,0],"magic":[2,3,4,4],"armor":[0,0,0,0],"health":[8,8,8,9],"speed":[3,3,3,3],"abilities":[["Flying"],["Heal"],["Blast"],["Magic Reflect"]]},"is_starter":false,"editions":"0,1"},{"id":60,"name":"Peaceful Giant","color":"Gray","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[5,5,5,5,5,5,5,5,5,5],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[8,9,10,11,12,13,14,15,16,17],"speed":[1,1,1,1,1,1,1,1,1,1],"abilities":[[],[],[],[],[],[],[],[],[],[]]},"is_starter":false,"editions":"1"},{"id":61,"name":"Grumpy Dwarf","color":"Gray","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[4,4,4,4,4,4,4,4,4,4],"attack":[1,1,1,2,2,2,2,3,3,3],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[1,2,2,2,2,3,3,2,3,3],"health":[4,4,5,5,5,5,5,5,5,6],"speed":[2,2,2,2,2,2,3,3,3,3],"abilities":[[],[],[],[],["Enrage"],[],[],[],[],[]]},"is_starter":true,"editions":"1"},{"id":62,"name":"Elven Cutthroat","color":"Gray","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[1,1,1,2,2,2,2,3,3,3],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[1,2,2,2,3,3,4,4,4,5],"speed":[3,3,4,4,4,5,5,5,6,6],"abilities":[["Sneak"],[],[],[],[],[],[],[],[],[]]},"is_starter":true,"editions":"1"},{"id":63,"name":"Centaur","color":"Gray","type":"Monster","sub_type":null,"rarity":1,"drop_rate":80,"stats":{"mana":[4,4,4,4,4,4,4,4,4,4],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[1,1,1,2,2,2,2,3,3,3],"magic":[0,0,0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[4,5,5,4,5,5,6,5,5,6],"speed":[3,3,4,4,4,5,5,5,6,6],"abilities":[["Snipe"],[],[],[],[],[],[],[],[],[]]},"is_starter":true,"editions":"1"},{"id":64,"name":"Cocatrice","color":"Gray","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[2,2,2,2,2,2,2,2],"attack":[1,1,1,1,1,1,1,2],"ranged":[0,0,0,0,0,0,0,0],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[2,2,3,3,3,4,4,4],"speed":[3,4,4,5,5,5,6,6],"abilities":[["Flying"],[],[],[],["Dodge"],[],[],[]]},"is_starter":true,"editions":"1"},{"id":65,"name":"Cyclops","color":"Gray","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[6,6,6,6,6,6,6,6],"attack":[0,0,0,0,0,0,0,0],"ranged":[2,2,2,3,3,3,3,3],"magic":[0,0,0,0,0,0,0,0],"armor":[0,0,0,0,0,0,0,0],"health":[5,6,6,6,7,7,8,9],"speed":[1,1,1,1,1,1,2,2],"abilities":[[],[],["Shield"],[],[],["Stun"],[],[]]},"is_starter":true,"editions":"1"},{"id":66,"name":"Enchanted Pixie","color":"Gray","type":"Monster","sub_type":null,"rarity":2,"drop_rate":22,"stats":{"mana":[3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0],"ranged":[0,0,0,0,0,0,0,0],"magic":[1,1,1,1,1,1,1,2],"armor":[0,0,0,0,0,0,0,0],"health":[1,2,2,3,3,4,4,4],"speed":[2,2,3,3,3,3,4,4],"abilities":[["Flying"],[],[],[],["Inspire"],[],[],[]]},"is_starter":false,"editions":"1"},{"id":67,"name":"Raging Impaler","color":"Gray","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[6,6,6,6,6,6],"attack":[2,3,3,4,4,4],"ranged":[0,0,0,0,0,0],"magic":[0,0,0,0,0,0],"armor":[0,0,0,0,0,0],"health":[7,7,8,8,8,9],"speed":[3,3,3,3,3,3],"abilities":[["Piercing"],[],["Enrage"],[],["Shield"],[]]},"is_starter":false,"editions":"1"},{"id":68,"name":"Magi Sphinx","color":"Gray","type":"Monster","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":[5,5,5,5,5,5],"attack":[0,0,0,0,0,0],"ranged":[0,0,0,0,0,0],"magic":[2,2,3,3,4,4],"armor":[0,0,0,0,0,0],"health":[4,5,4,5,5,6],"speed":[3,3,3,3,3,3],"abilities":[[],[],[],[],[],[]]},"is_starter":false,"editions":"1"},{"id":69,"name":"Hydra","color":"Gray","type":"Monster","sub_type":null,"rarity":4,"drop_rate":2,"stats":{"mana":[7,7,7,7],"attack":[3,3,3,4],"ranged":[0,0,0,0],"magic":[0,0,0,0],"armor":[0,0,0,0],"health":[8,9,9,10],"speed":[4,4,4,4],"abilities":[["Heal"],["Thorns"],["Retaliate"],["Trample"]]},"is_starter":false,"editions":"1"},{"id":70,"name":"Talia Firestorm","color":"Red","type":"Summoner","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":2,"attack":0,"ranged":0,"magic":0,"armor":0,"health":0,"speed":0},"is_starter":false,"editions":"1"},{"id":71,"name":"Xia Seachan","color":"Blue","type":"Summoner","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":2,"attack":0,"ranged":0,"magic":0,"armor":0,"health":0,"speed":0},"is_starter":false,"editions":"1"},{"id":72,"name":"Xander Foxwood","color":"Green","type":"Summoner","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":2,"attack":0,"ranged":0,"magic":0,"armor":0,"health":0,"speed":0},"is_starter":false,"editions":"1"},{"id":73,"name":"Kiara Lightbringer","color":"White","type":"Summoner","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":2,"attack":0,"ranged":0,"magic":0,"armor":0,"health":0,"speed":0},"is_starter":false,"editions":"1"},{"id":74,"name":"Jarlax the Undead","color":"Black","type":"Summoner","sub_type":null,"rarity":3,"drop_rate":10,"stats":{"mana":2,"attack":0,"ranged":0,"magic":0,"armor":0,"health":0,"speed":0},"is_starter":false,"editions":"1"},{"id":75,"name":"Dragon Whelp","color":"Gold","type":"Monster","sub_type":null,"rarity":1,"drop_rate":0,"stats":{"mana":[3,3,3,3,3,3,3,3,3,3],"attack":[0,0,0,0,0,0,0,0,0,0],"ranged":[0,0,0,0,0,0,0,0,0,0],"magic":[1,1,1,1,1,1,1,1,2,2],"armor":[0,0,0,0,0,0,0,0,0,0],"health":[2,2,3,3,4,4,4,5,4,5],"speed":[1,2,2,3,3,3,4,4,4,4],"abilities":[["Flying"],[],[],[],[],["Thorns"],[],[],[],[]]},"is_starter":false,"editions":"2"},{"id":76,"name":"Royal Dragon Archer","color":"Gold","type":"Monster","sub_type":null,"rarity":3,"drop_rate":0,"stats":{"mana":[6,6,6,6,6,6],"attack":[0,0,0,0,0,0],"ranged":[3,3,3,3,4,4],"magic":[0,0,0,0,0,0],"armor":[0,0,0,0,0,0],"health":[3,4,4,4,4,5],"speed":[3,3,4,4,4,4],"abilities":[["Flying","Snipe"],[],[],["Poison"],[],[]]},"is_starter":false,"editions":"2"},{"id":77,"name":"Shin-Lo","color":"Gold","type":"Monster","sub_type":null,"rarity":4,"drop_rate":0,"stats":{"mana":[1,1,1,1],"attack":[0,0,0,0],"ranged":[0,0,0,0],"magic":[1,1,2,2],"armor":[0,0,0,0],"health":[2,2,2,3],"speed":[2,3,3,3],"abilities":[["Sneak"],[],[],[]]},"is_starter":false,"editions":"2"},{"id":78,"name":"Neb Seni","color":"Gold","type":"Summoner","sub_type":null,"rarity":2,"drop_rate":0,"stats":{"mana":4,"attack":0,"ranged":0,"magic":0,"armor":0,"health":0,"speed":1},"is_starter":false,"editions":"2"}];
      class Transaction {
        constructor(tx) {
          //the hash of the transaction
          this.id = tx.id;
          
          //some "virtual" transactions don't get put on-chain
          this.virtual = this.id.indexOf("sm_") === 0;
          
          //hash of block when the transaction occured
          this.blockID = tx.block_id;
          
          //hash of block before the transaction occured
          this.prevBlockID = tx.prev_block_id;
          
          //type of transaction, e.g. sm_open_pack, sm_find_match, sm_claim_reward, etc.
          this.type = tx.type;
          
          //player who caused the transaction to occur
          this.player = tx.player;
          
          //what is supposted to happen in the transaction
          try {
            this.data = JSON.parse(tx.data);
          } catch (e) {
            this.data = tx.data;
          }
          
          //results of performing the transaction, sometimes is null (such as for sm_claim_reward)
          try {
            this.result = JSON.parse(tx.result);
          } catch (e) {
            //lazy fix for a weird api bug
            this.result = JSON.parse(eval(tx.result));
          }
          
          //boolean, true if the transaction worked and was valid, otherwise false
          this.success = tx.success;
          
          //null if it worked, otherwise an object like {error: "It didn't work"}
          this.error = tx.error;
          
          //block number when the transaction occured
          this.block = tx.block_num;
          
          //date of when the transaction occured
          this.date = tx.created_date;
                    
          //price data as of the transaction
          this.priceData = {sbd: tx.sbd_price, steem: tx.steem_price};
          
          //original raw transaction
          this.raw = tx;
        }
        typeString() {
          var types = {
            "sm_find_match": "started looking for a match",
            "sm_open_pack": "opened a pack",
            "sm_claim_reward": "claimed a reward",
            "sm_team_reveal": "revaled their team",
            "sm_combine_all": "combined cards",
            "sm_combine_cards": "combined cards",
            "sm_gift_packs": "gifted booster packs",
            "sm_start_quest": "started a daily quest",
            "sm_sell_cards": "placed a sell order",
            "sm_cancel_sell": "cancelled a sell order",
            "sm_pack_purchase": "purchased booster packs",
            "sm_market_purchase": "bought cards on the market",
            "sm_market_sale": "fulfilled a sell order",
            "sm_gift_cards": "gifted cards",
            "sm_cancel_match": "stopped looking for a battle",
            "sm_open_all": "opened all of their booster packs",
            "sm_refresh_quest": "changed their daily quest",
            "sm_card_award": "awarded cards"
          };
          console.log(this.type);
          console.log(this);
          if (types[this.type]) return types[this.type];
          return '<span class="raw-data">' + this.type + "</span>";
        }
        summary() {
          if (this.type === "sm_claim_reward") {
            if (this.data.type === "quest") {
              return "claimed a daily quest reward";
            }
          } else if (this.type === "sm_start_quest") {
            return "started a daily quest: " + this.result.name;
          } else if (this.type === "sm_open_all") {
            var edition;
            if (this.result.edition === "0") {
              edition = "alpha";
            } else if (this.result.edition === "1") {
              edition = "beta";
            } else {
              edition = "promo";
            }
            return "opened all " + this.result.cards.length + " " + edition + " booster packs"
          } else if (this.type === "sm_combine_cards") {
            return "combined " + this.data.cards.length + " cards"; 
          } else if (this.type === "sm_combine_all") {
            var cardData = CARDS.filter(card=>card.id === this.data.card_detail_id)[0];
            var edition;
            if (this.data.edition === 0) {
              edition = "alpha";
            } else if (this.data.edition === 1) {
              edition = "beta";
            } else {
              edition = "promo";
            }
            return "combined all " + (this.data.gold ? "gold " : "") + edition + " " + cardData.name + "s";
          } else if (this.type === "sm_gift_cards") {
            return "gifted " + this.data.cards.length + " card" + ((this.data.cards.length !== 1) ? "s" : "") + " to <span class='username'>" + this.data.to + "</span>"
          } else if (this.type === "sm_gift_packs") {
            var edition;
            if (this.data.edition === 0) {
              edition = "alpha";
            } else if (this.data.edition === 1) {
              edition = "beta";
            } else {
              edition = "promo";
            }
            return "gifted " + this.data.qty + " " + edition + " pack" + ((this.data.qty !== 1) ? "s" : "") + " to <span class='username'>" + this.data.to + "</span>";
          }
          return this.typeString();
        }
        toHTML() {
          if ((this.type === "sm_team_reveal") || (this.type === "sm_find_match")) return "";
          var date = new Date(this.date);
          return `
            <div class="transaction${this.error ? " error-tx" : ""}" ${this.error ? 'title="Error: ' + this.error + '"e' : ""}>
              <span class="username">${this.player}</span>
              ${this.summary()}
              <span class="block-number">${date.toLocaleDateString()} ${date.toLocaleTimeString()}</span>
            </div>
          `;
        }
        toExpandedHTML() {
          //extra data about transaction
          var date = new Date(this.date);
          return `
            <div class="transaction${this.error ? " error-tx" : ""}" ${this.error ? 'title="Error: ' + this.error + '"e' : ""}>
              <span class="username">${this.player}</span>
              ${this.summary()}
              <div class="raw-data">${JSON.stringify(this.data)}</div>
              <span class="block-number">${date.toLocaleDateString()} ${date.toLocaleTimeString()}</span>
            </div>
          `;
        }
      }
      window.addEventListener("load", function () {
        var updatePage = function () {
          document.getElementById("loader").style.display = "block";
          var name = document.getElementById("query").value;
          name = name.trim();
          if (name === "") {
            document.getElementById("loader").style.display = "none";
            return document.getElementById("content").innerHTML = "";
          }
          fetch("https://steemmonsters.com/players/history?username=" + name + "&from_block=-1&limit=500").then(async function (result) {
            var history = await result.json();
            console.log(history);
            let html = "";
            var elements = {};
            history.forEach(function (item) {
              var id = Math.random().toString(36);
              elements[id] = {id: id, tx: new Transaction(item)};
              html += '<span id="' + id + '">' + elements[id].tx.toHTML() + "</span>";
            });
            document.getElementById("loader").style.display = "none";
            document.getElementById("content").innerHTML = html;
            for (var item in elements) {
              (function (element) {
                var expanded = false;
                var pendingRetraction = null;
                var showSimple = true;
                element.element = document.getElementById(element.id);
                element.element.addEventListener("mouseover", function () {
                  clearTimeout(pendingRetraction);
                  if (expanded) return;
                  expanded = true;
                  showSimple = false;
                  this.innerHTML = element.tx.toExpandedHTML();
                });
                element.element.addEventListener("mouseout", function () {
                  if (!expanded) return;
                  expanded = false;
                  var that = this;
                  if (!showSimple) {
                    pendingRetraction = setTimeout(function () {
                      showSimple = true;
                      that.innerHTML = element.tx.toHTML();
                    }, 1000);
                    return;
                  }
                  this.innerHTML = element.tx.toHTML();
                });
              })(elements[item])
            }
          });
        }
        document.getElementById("query").oninput = updatePage;
        document.getElementById("loader").style.display = "none";
      });
    </script>
  </head>
  <body>
    <nav>
      <h1>Steem Monsters Explorer</h1>
    </nav>
    <div id="usage">
      Enter a Steem username<!--, block number, purchase ID (starts with <span class="raw-data">P-</span>), booster pack ID (starts with <span class="raw-data">B-</span>), or battle ID-->.
    </div>
    <input type="text" id="query" />
    <div id="loader">
    </div>
    <div id="content"></div>
    By Smitop.
  </body>
</html>
